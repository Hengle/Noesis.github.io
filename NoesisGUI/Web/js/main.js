$(function(){$(".js-hidereveal").CWHideReveal();var e=$("#header"),a=$(".primary-nav"),i=$(".mobile-menu"),o=$("#header .primary-nav .child-nav ul").outerHeight()+$("#header .primary-nav ul").outerHeight();i.on("click",function(t){return t.preventDefault(),(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<o&&($(window).scrollTop(0),e.toggleClass("small-height")),i.toggleClass("active"),a.toggleClass("active"),!1}),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<767?$(".js-mobile-2nd-nav").CWHideReveal():$(".js-mobile-2nd-nav").unbind("click"),$("a").CWEventTracking(),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var n=$(".js-hide-nav"),r=$(".main-content .secondary-nav.site-nav"),s=($(".sub-nav-hero"),n.height(),!1);n.on("click",".nav-trigger",function(e){e.preventDefault(),n.toggleClass("nav-open")}),$(window).on("scroll",function(){s||(s=!0,setTimeout(l,0))});var c=0;function l(){var e=$(window).scrollTop(),a=n.outerHeight();!function(e,a){if($("body").hasClass("home")){$(".home .SOZO-header").removeClass("scrolled"),$(".home .SOZO-header .wrapper .logo").removeClass("scrolled")}}(),function(e,a){var i=$("#table-of-contents"),t=r.outerHeight(),o=a+t;if(i.length>0)if(e>c&&e>0){var n=u;if(n>-o){var s=c-e;u=Math.max(n+s,-o),i.css("margin-top",u)}}else if(e<c&&e<o){var n=u;if(n<0){var s=Math.min(c,o)-e;u=Math.min(n+s,0),i.css("margin-top",u)}}}(e,a),c=e,s=!1}var u=0;var h=$(".hero-video"),m=$(".hero-video video");function d(){$("body").hasClass("home")&&h&&m&&(h.width()>16*h.height()/9?(m.addClass("video-fit-width"),m.removeClass("video-fit-height")):(m.removeClass("video-fit-width"),m.addClass("video-fit-height")))}var g=$(window).height();$(window).on("resize",function(){n.height(),function(){if($("body").hasClass("home")&&h&&m){var e=$(window).height();g!=e&&($(window).scrollTop($(window).scrollTop()-g+e),g=e)}}(),d()}),d();var p=$(".hero .copy").outerHeight();$(".hero").outerHeight();$(window).resize(function(){$(".hero .copy").css("height","auto"),p=$(".hero .copy").outerHeight(),$(".hero .copy").css("height",p)}),{init:function(){this.heroLogoAnim()},heroLogoAnim:function(){var e=new TimelineLite({delay:0}),a=isMobile()?0:1;e.staggerFromTo(".hero .svg-logo .svg-logo-mark path",.3*a,{autoAlpha:"0"},{autoAlpha:"1",ease:Sine.easeOut},.1,0).fromTo(".hero .svg-logo .svg-logo-mark",.5*a,{rotation:-180,transformOrigin:"center"},{rotation:0,ease:Expo.easeOut},0).fromTo(".hero .svg-logo .svg-logo-mark",.5*a,{scaleX:.5,scaleY:.5,transformOrigin:"center"},{scaleX:1,scaleY:1,ease:Back.easeOut.config(1.7)},0).fromTo(".hero .svg-logo .svg-logo-mark",.5*a,{x:262},{x:0,ease:Cubic.easeInOut},.5*a).staggerFromTo(".hero .svg-logo .svg-logo-word-mark path",.4*a,{autoAlpha:"0"},{autoAlpha:"1",ease:Cubic.easeOut},.1*a,.7*a).fromTo(".hero .svg-logo .svg-logo-word-mark .svg-logo-word-gui",.4*a,{scale:1.1,transformOrigin:"right center"},{scale:1,ease:Expo.easeInOut},.7*a).to(".hero .copy",0,{css:{overflow:"visible"}},1*a).staggerFromTo(".hero .copy .item",.3*a,{opacity:0},{opacity:1,ease:Sine.easeOut},.1*a,.9*a).fromTo(".home .SOZO-header",.5*a,{autoAlpha:"0"},{autoAlpha:"1",ease:Sine.easeOut},1.3*a)}}.init();var v=document.getElementById("main-feature-icon-first"),f=document.getElementById("main-feature-icon-second"),w=document.getElementById("main-feature-icon-third");document.getElementById("main-feature-icon-fourth");function y(e){var a=e.getBoundingClientRect(),i=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(a.bottom<0||a.top-i>=0)}var A={init:function(){this.startAnim()},startAnim:function(){new TimelineLite({delay:0}).fromTo(".main-features .wrapper .unit.first",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).staggerFromTo(".svg-icon-realtime .svg-bars-top rect",.3,{scaleY:"0",transformOrigin:"0% 100%"},{scaleY:"1",ease:Power4.easeOut},.1,.5).fromTo(".svg-line-top path",1.2,{drawSVG:"100% 100%"},{drawSVG:"0% 100%",ease:Power4.easeOut},1,"firstEnded")}};$(".main-features .unit.first .heading2").appear({once:!0,percentage:20,appear:function(){A.init()}});var T={init:function(){this.startAnim()},startAnim:function(){var e=y(v)?.3:0;new TimelineLite({delay:e}).fromTo(".main-features .wrapper .unit.second",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).staggerFromTo(".svg-icon-native text",.1,{opacity:0},{opacity:"1",ease:Power4.easeOut},.1,.5)}};$(".main-features .unit.second .heading2").appear({once:!0,percentage:20,appear:function(){T.init()}});var O={init:function(){this.startAnim()},startAnim:function(){var e=y(v)?.3:0;e+=y(f)?.3:0;new TimelineLite({delay:e}).fromTo(".main-features .wrapper .unit.third",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).staggerFromTo(".svg-multi .svg-device",.5,{opacity:0},{opacity:"1",ease:Power4.easeOut},.2,.4)}};$(".main-features .unit.third .heading2").appear({once:!0,percentage:20,appear:function(){O.init()}});var C={init:function(){this.startAnim()},startAnim:function(){var e=y(v)?.3:0;e+=y(f)?.3:0,e+=y(w)?.3:0;new TimelineLite({delay:e}).fromTo(".main-features .wrapper .unit.fourth",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).fromTo(".svg-icon-xaml .svg-hex",1,{opacity:0,scale:0,transformOrigin:"50% 50%"},{opacity:1,scale:1,ease:Power4.easeOut},.4).fromTo(".svg-icon-xaml .svg-arw-right",1,{opacity:0,x:"-20px"},{opacity:1,x:"0px",ease:Power4.easeOut},.4).fromTo(".svg-icon-xaml .svg-arw-left",1,{opacity:0,x:"20px"},{opacity:1,x:"0px",ease:Power4.easeOut},.4)}};$(".main-features .unit.fourth .heading2").appear({once:!0,percentage:20,appear:function(){C.init()}});var b={init:function(){this.diagAnim()},diagAnim:function(){new TimelineLite({delay:0}).staggerFromTo(".process-diagram .svg-diagram .anim-group",1,{autoAlpha:"0",x:-20},{autoAlpha:"1",x:0,ease:Power4.easeOut},.4,0).fromTo(".process-diagram .svg-diagram .arrows",1,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},1.6)}};$(".process-diagram svg").appear({once:!0,percentage:50,appear:function(){b.init()}}),$(".js-appear-on-scroll1").appear({once:!0,percentage:30,appear:function(){$(this).removeClass("animate-me")}});var x=0;function j(){var e=null,a=0;$(".js-fadeshow .item ").each(function(){x++;var i=$(this).outerHeight();i>a&&(a=i,e=$(this).outerHeight())}),$(".js-fadeshow").css("height",e)}if(j(),$(window).resize(function(){j()}),x>1){$(".js-fadeshow").parent().append('<nav class="slide-nav"></nav>');var k=0;$(".js-fadeshow .item").each(function(){k++,$('.slide-nav a[href="#item1"]').addClass("active"),$(this).attr("id","item"+k),$(".slide-nav").append('<a href="#item'+k+'"></a>')}),$(".slide-nav a").click(function(e){e.preventDefault(),t=$(this).attr("href"),$(".js-fadeshow .item").removeClass("active"),$(t).addClass("active"),$(".slide-nav a").removeClass("active"),$(this).addClass("active")})}function H(){$(".js-options-license .js-license-pro input").is(":checked")&&($(".js-options-pro").show(),$(".js-options-indie").hide()),$(".js-options-license .js-license-indie input").is(":checked")&&($(".js-options-pro").hide(),$(".js-options-indie").show())}$(".tab-link.reveal-form").click(function(e){e.preventDefault(),$(".tab-data li").removeClass("animate-me")}),H(),$(".js-options-license input, .js-options-license label").click(function(){H()})});