$(function(){$(".js-hidereveal").CWHideReveal();var a=$("#header"),i=$(".primary-nav"),o=$(".mobile-menu"),n=$("#header .primary-nav .child-nav ul").outerHeight()+$("#header .primary-nav ul").outerHeight();o.on("click",function(e){return e.preventDefault(),(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<n&&($(window).scrollTop(0),a.toggleClass("small-height")),o.toggleClass("active"),i.toggleClass("active"),!1}),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<767?$(".js-mobile-2nd-nav").CWHideReveal():$(".js-mobile-2nd-nav").unbind("click"),$("a").CWEventTracking(),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var s=$(".js-hide-nav"),r=$(".main-content .secondary-nav.site-nav"),c=($(".sub-nav-hero"),s.height(),!1);s.on("click",".nav-trigger",function(e){e.preventDefault(),s.toggleClass("nav-open")}),$(window).on("scroll",function(){c||(c=!0,setTimeout(e,0))});var l=0;function e(){var e=$(window).scrollTop(),a=s.outerHeight();!function(e,a){if($("body").hasClass("home")){$(".home .SOZO-header").removeClass("scrolled"),$(".home .SOZO-header .wrapper .logo").removeClass("scrolled")}}(),function(e,a){var t=$("#table-of-contents"),i=r.outerHeight(),o=a+i;if(0<t.length)if(l<e&&0<e){var n=m;if(-o<n){var s=l-e;m=Math.max(n+s,-o),t.css("margin-top",m)}}else if(e<l&&e<o){var n=m;if(n<0){var s=Math.min(l,o)-e;m=Math.min(n+s,0),t.css("margin-top",m)}}}(e,a),l=e,c=!1}var m=0;var h=$(".hero-video"),u=$(".hero-video video");function d(){$("body").hasClass("home")&&h&&u&&(h.width()>16*h.height()/9?(u.addClass("video-fit-width"),u.removeClass("video-fit-height")):(u.removeClass("video-fit-width"),u.addClass("video-fit-height")))}var g=$(window).height();$(window).on("resize",function(){s.height(),function(){if($("body").hasClass("home")&&h&&u){var e=$(window).height();g!=e&&($(window).scrollTop($(window).scrollTop()-g+e),g=e)}}(),d()}),d();var p=$(".hero .copy").outerHeight();$(".hero").outerHeight();$(window).resize(function(){$(".hero .copy").css("height","auto"),p=$(".hero .copy").outerHeight(),$(".hero .copy").css("height",p)}),{init:function(){this.heroLogoAnim()},heroLogoAnim:function(){var e=new TimelineLite({delay:0}),a=isMobile()?0:1;e.staggerFromTo(".hero .svg-logo .svg-logo-mark path",.3*a,{autoAlpha:"0"},{autoAlpha:"1",ease:Sine.easeOut},.1,0).fromTo(".hero .svg-logo .svg-logo-mark",.5*a,{rotation:-180,transformOrigin:"center"},{rotation:0,ease:Expo.easeOut},0).fromTo(".hero .svg-logo .svg-logo-mark",.5*a,{scaleX:.5,scaleY:.5,transformOrigin:"center"},{scaleX:1,scaleY:1,ease:Back.easeOut.config(1.7)},0).fromTo(".hero .svg-logo .svg-logo-mark",.5*a,{x:262},{x:0,ease:Cubic.easeInOut},.5*a).staggerFromTo(".hero .svg-logo .svg-logo-word-mark path",.4*a,{autoAlpha:"0"},{autoAlpha:"1",ease:Cubic.easeOut},.1*a,.7*a).fromTo(".hero .svg-logo .svg-logo-word-mark .svg-logo-word-gui",.4*a,{scale:1.1,transformOrigin:"right center"},{scale:1,ease:Expo.easeInOut},.7*a).to(".hero .copy",0,{css:{overflow:"visible"}},1*a).staggerFromTo(".hero .copy .item",.3*a,{opacity:0},{opacity:1,ease:Sine.easeOut},.1*a,.9*a).fromTo(".home .SOZO-header",.5*a,{autoAlpha:"0"},{autoAlpha:"1",ease:Sine.easeOut},1.3*a)}}.init();var v=document.getElementById("main-feature-icon-first"),f=document.getElementById("main-feature-icon-second"),w=document.getElementById("main-feature-icon-third"),y=(document.getElementById("main-feature-icon-fourth"),.3);function T(e){var a=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(a.bottom<0||0<=a.top-t)}var A={init:function(){this.startAnim()},startAnim:function(){new TimelineLite({delay:0}).fromTo(".main-features .wrapper .unit.first",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).staggerFromTo(".svg-icon-realtime .svg-bars-top rect",.3,{scaleY:"0",transformOrigin:"0% 100%"},{scaleY:"1",ease:Power4.easeOut},.1,.5).fromTo(".svg-line-top path",1.2,{drawSVG:"100% 100%"},{drawSVG:"0% 100%",ease:Power4.easeOut},1,"firstEnded")}};$(".main-features .unit.first .heading2").appear({once:!0,percentage:20,appear:function(){A.init()}});var C={init:function(){this.startAnim()},startAnim:function(){var e=T(v)?y:0;new TimelineLite({delay:e}).fromTo(".main-features .wrapper .unit.second",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).staggerFromTo(".svg-icon-native text",.1,{opacity:0},{opacity:"1",ease:Power4.easeOut},.1,.5)}};$(".main-features .unit.second .heading2").appear({once:!0,percentage:20,appear:function(){C.init()}});var O={init:function(){this.startAnim()},startAnim:function(){var e=T(v)?y:0;e+=T(f)?y:0;new TimelineLite({delay:e}).fromTo(".main-features .wrapper .unit.third",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).staggerFromTo(".svg-multi .svg-device",.5,{opacity:0},{opacity:"1",ease:Power4.easeOut},.2,.4)}};$(".main-features .unit.third .heading2").appear({once:!0,percentage:20,appear:function(){O.init()}});var j={init:function(){this.startAnim()},startAnim:function(){var e=T(v)?y:0;e+=T(f)?y:0,e+=T(w)?y:0;new TimelineLite({delay:e}).fromTo(".main-features .wrapper .unit.fourth",.5,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},0).fromTo(".svg-icon-xaml .svg-hex",1,{opacity:0,scale:0,transformOrigin:"50% 50%"},{opacity:1,scale:1,ease:Power4.easeOut},.4).fromTo(".svg-icon-xaml .svg-arw-right",1,{opacity:0,x:"-20px"},{opacity:1,x:"0px",ease:Power4.easeOut},.4).fromTo(".svg-icon-xaml .svg-arw-left",1,{opacity:0,x:"20px"},{opacity:1,x:"0px",ease:Power4.easeOut},.4)}};$(".main-features .unit.fourth .heading2").appear({once:!0,percentage:20,appear:function(){j.init()}});var x={init:function(){this.diagAnim()},diagAnim:function(){new TimelineLite({delay:0}).staggerFromTo(".process-diagram .svg-diagram .anim-group",1,{autoAlpha:"0",x:-20},{autoAlpha:"1",x:0,ease:Power4.easeOut},.4,0).fromTo(".process-diagram .svg-diagram .arrows",1,{autoAlpha:"0"},{autoAlpha:"1",ease:Power4.easeOut},1.6)}};$(".process-diagram svg").appear({once:!0,percentage:50,appear:function(){x.init()}}),$(".js-appear-on-scroll1").appear({once:!0,percentage:30,appear:function(){$(this).removeClass("animate-me")}});var b=0;function k(){var a=null,t=0;$(".js-fadeshow .item ").each(function(){b++;var e=$(this).outerHeight();t<e&&(t=e,a=$(this).outerHeight())}),$(".js-fadeshow").css("height",a)}if(k(),$(window).resize(function(){k()}),1<b){$(".js-fadeshow").parent().append('<nav class="slide-nav"></nav>');var H=0;$(".js-fadeshow .item").each(function(){H++,$('.slide-nav a[href="#item1"]').addClass("active"),$(this).attr("id","item"+H),$(".slide-nav").append('<a href="#item'+H+'"></a>')}),$(".slide-nav a").click(function(e){e.preventDefault(),t=$(this).attr("href"),$(".js-fadeshow .item").removeClass("active"),$(t).addClass("active"),$(".slide-nav a").removeClass("active"),$(this).addClass("active")})}function P(){$(".js-options-license .js-license-pro input").is(":checked")&&($(".js-options-pro").show(),$(".js-options-indie").hide()),$(".js-options-license .js-license-indie input").is(":checked")&&($(".js-options-pro").hide(),$(".js-options-indie").show())}1<b&&($(".js-fadeshow .item:gt(0)").removeClass("active"),setInterval(function(){$(".js-fadeshow .item").removeClass("active");var e=$(".js-fadeshow .item").eq(1).attr("id");$(".slide-nav a").removeClass("active"),$('.slide-nav a[href="#'+e+'"]').addClass("active"),$(".js-fadeshow .item:first-child").removeClass("active").next(".item").addClass("active").end().appendTo(".js-fadeshow")},2e4)),$(".tab-link.reveal-form").click(function(e){e.preventDefault(),$(".tab-data li").removeClass("animate-me")}),P(),$(".js-options-license input, .js-options-license label").click(function(){P()})});